<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
    <title>Randevu Güncelleme</title>
    <style>
        body {
            /* display: flex; */
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(to right, #f0f0f0, #b5fcd8);
        }
    </style>
</head>
<body>
     <%- include('../partials/doctor/begining-header') %>
     <div class="container mt-3">
        <div class="row">
            <div class="col-md-12 mt-3">
                <h3>Randevu Güncelleme</h3>
            </div>
            <div class="col-md-12 mt-3">
                <form method="post"> 
                    <div class="row mb-3">
                        <label for="doktor" class="col-sm-2 col-from-label">Doktor Id</label>
                        <div class="col-sm-8">
                            <% doktorlar.forEach(doktor => { %>
                                <% if (doktor.iddoktor == selectedDoktorId) { %>
                                    <input type="text" id="doktor" name="doktor" value="<%= doktor.iddoktor %>" readonly>
                                <% } %>
                            <% }) %>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="hasta" class="col-sm-2 col-from-label">Hasta</label>
                        <div class="col-sm-8">
                            <select id="hasta" name="hasta" required>
                                <option value="-41">Seçiniz</option>
                                <% hastalar.forEach(function(hasta) { %>
                                    <option value="<%= hasta.hastaid %>" <%= hasta.hastaid == selectedHastaId ? 'selected' : '' %> >
                                        <%= hasta.isim %> <%= hasta.soyisim %></option>
                                <% }); %>
                            </select>
                            
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="tarih" class="col-sm-2 col-from-label">Randevu Tarihi</label>
                        <div class="col-sm-8">
                            <input type="date" id="tarih" name="tarih" required min="<%= min_tarih %>" max="<%= max_tarih %>">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="saat" class="col-sm-2 col-from-label">Randevu Saati</label>
                        <div class="col-sm-8">
                            <select id="saat" name="saat" required>
                                <option value="-41">Seçiniz</option>
                                <option value="09:00" <%= selectedSaat === "09:00" ? 'selected' : '' %>>09:00</option>
                                <option value="09:30" <%= selectedSaat === "09:30" ? 'selected' : '' %>>09:30</option>
                                <option value="10:00" <%= selectedSaat === "10:00" ? 'selected' : '' %>>10:00</option>
                                <option value="10:30" <%= selectedSaat === "10:30" ? 'selected' : '' %>>10:30</option>
                                <option value="11:00" <%= selectedSaat === "11:00" ? 'selected' : '' %>>11:00</option>
                                <option value="11:30" <%= selectedSaat === "11:30" ? 'selected' : '' %>>11:30</option>
                                <option value="12:00" <%= selectedSaat === "12:00" ? 'selected' : '' %>>12:00</option>
                                <option value="12:30" <%= selectedSaat === "12:30" ? 'selected' : '' %>>12:30</option>
                                <option value="13:00" <%= selectedSaat === "13:00" ? 'selected' : '' %>>13:00</option>
                                <option value="13:30" <%= selectedSaat === "13:30" ? 'selected' : '' %>>13:30</option>
                                <option value="14:00" <%= selectedSaat === "14:00" ? 'selected' : '' %>>14:00</option>
                                <option value="14:30" <%= selectedSaat === "14:30" ? 'selected' : '' %>>14:30</option>
                                <option value="15:00" <%= selectedSaat === "15:00" ? 'selected' : '' %>>15:00</option>
                                <option value="15:30" <%= selectedSaat === "15:30" ? 'selected' : '' %>>15:30</option>
                                <option value="16:00" <%= selectedSaat === "16:00" ? 'selected' : '' %>>16:00</option>
                                <option value="16:30" <%= selectedSaat === "16:30" ? 'selected' : '' %>>16:30</option>
                                <option value="17:00" <%= selectedSaat === "17:00" ? 'selected' : '' %>>17:00</option>
                                <option value="17:30" <%= selectedSaat === "17:30" ? 'selected' : '' %>>17:30</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-8 offset-sm-2">
                            <button type="submit" class="btn btn-primary">Kaydet</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <% if (message && message.length > 0) { %>
            <div class="row justify-content-center" style="margin-left: 90px;">
                <div class="col-md-8">
                    <div class="alert <%= alert_type %> row justify-content-center" role="alert">
                        <%= message %>
                    </div>
                </div>
            </div>
        <% } %>
    </div>    
</body>
</html>
